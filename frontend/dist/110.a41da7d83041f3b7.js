"use strict";(self.webpackChunkfinsweet_project=self.webpackChunkfinsweet_project||[]).push([[110],{110:(V,h,l)=>{l.r(h),l.d(h,{CategoryAdmComponent:()=>K});var g=l(2296),p=l(7700),C=l(617),s=l(5313),d=l(9947),i=l(6223),_=l(2032),u=l(5195),q=l(8525),I=l(6814),y=l(2939),t=l(9212),x=l(6427),Z=l(861),f=l(9157);function N(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," min symbol is "),t.TgZ(2,"strong"),t._uU(3,"3"),t.qZA()())}function O(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," max symbol is "),t.TgZ(2,"strong"),t._uU(3,"70"),t.qZA()())}function P(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," title is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function k(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," title is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function M(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," min symbol is "),t.TgZ(2,"strong"),t._uU(3,"5"),t.qZA()())}function J(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," title is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function Q(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," min symbol is "),t.TgZ(2,"strong"),t._uU(3,"15"),t.qZA()())}function E(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," title is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let D=(()=>{class e{constructor(o,a,n,m){this.reqServ=o,this.valueDetails=a,this.dialog=n,this.snackBar=m,this.form=new i.cw({title:new i.NI("",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(70)]),image:new i.NI("",[i.kI.required]),description:new i.NI("",[i.kI.required,i.kI.minLength(15)]),shortDescription:new i.NI("",[i.kI.required,i.kI.minLength(5)])})}ngOnInit(){"categoryEdit"==this.valueDetails.isCalledCategory&&this.reqServ.getData(d.N.category.get+"/"+this.valueDetails.idCatgory).subscribe(o=>{this.valueCategory=o,"categoryEdit"==this.valueDetails.isCalledCategory&&(this.form.get("title")?.setValue(o.title),this.form.get("image")?.setValue(o.image),this.form.get("description")?.setValue(o.description),this.form.get("shortDescription")?.setValue(o.shortDescription))})}save(){this.form.valid&&("categoryEdit"==this.valueDetails.isCalledCategory?this.reqServ.editData(d.N.category.get+"/"+this.valueCategory.id,this.form.value).subscribe(()=>{this.dialog.closeAll(),this.snackBar.open("category edited","close",{duration:3e3,panelClass:["success-snackbar"]})}):this.reqServ.addData(d.N.category.get,this.form.value).subscribe(()=>{this.dialog.closeAll(),this.snackBar.open("category created","close",{duration:3e3})}))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(x.s),t.Y36(Z.A),t.Y36(p.uw),t.Y36(y.ux))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-category"]],standalone:!0,features:[t.jDz],decls:29,vars:9,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","enter your category name","formControlName","title","name","title"],[4,"ngIf"],[2,"width","100%"],["matInput","","placeholder","enter your category icon","formControlName","image","name","image"],["matInput","","placeholder","enter your category short deskription","formControlName","shortDescription","name","shortDescription",1,"input_textarea"],["rows","3","matInput","","placeholder","enter your category description","formControlName","description","name","description",1,"input_textarea"],["color","primary","mat-raised-button",""]],template:function(a,n){if(1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0),t.NdJ("ngSubmit",function(){return n.save()}),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",2),t.YNc(7,N,4,0,"mat-error",3)(8,O,4,0,"mat-error",3)(9,P,4,0,"mat-error",3),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Icon"),t.qZA(),t._UZ(13,"input",5),t.YNc(14,k,4,0,"mat-error",3),t.qZA(),t.TgZ(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"short description"),t.qZA(),t._UZ(18,"textarea",6),t.YNc(19,M,4,0,"mat-error",3)(20,J,4,0,"mat-error",3),t.qZA(),t.TgZ(21,"mat-form-field",1)(22,"mat-label"),t._uU(23,"Description"),t.qZA(),t._UZ(24,"textarea",7),t.YNc(25,Q,4,0,"mat-error",3)(26,E,4,0,"mat-error",3),t.qZA(),t.TgZ(27,"button",8),t._uU(28,"SAVE"),t.qZA()()()()),2&a){let m,c,T,A,b,v,U,w;t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",null==(m=n.form.get("title"))?null:m.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(c=n.form.get("title"))?null:c.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(T=n.form.get("title"))?null:T.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(A=n.form.get("image"))?null:A.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(b=n.form.get("shortDescription"))?null:b.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(v=n.form.get("shortDescription"))?null:v.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(U=n.form.get("description"))?null:U.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(w=n.form.get("description"))?null:w.hasError("required"))}},dependencies:[_.c,_.Nt,f.KE,f.hX,f.TO,u.QW,u.a8,u.dn,q.LD,g.ot,g.lW,I.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,y.ZX],styles:["textarea[_ngcontent-%COMP%]{resize:none}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.input_textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}.success-snackbar[_ngcontent-%COMP%]{background-color:red;width:100%;color:#0cbd37}"]})}return e})();function Y(e,r){1&e&&(t.TgZ(0,"th",15),t._uU(1," Name "),t.qZA())}function S(e,r){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.title," ")}}function j(e,r){1&e&&(t.TgZ(0,"th",15),t._uU(1," Icon "),t.qZA())}function B(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td",17)(1,"img",18,19),t.NdJ("error",function(){t.CHM(o);const n=t.MAs(2);return t.KtG(n.src="./assets/Images/not-image.jpeg")}),t.qZA()()}if(2&e){const o=r.$implicit;t.xp6(1),t.Q6J("src",o.image,t.LSH)}}function H(e,r){1&e&&(t.TgZ(0,"th",15),t._uU(1," Description "),t.qZA())}function L(e,r){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.TgZ(2,"div",21),t._uU(3),t.qZA()()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",null!=o.description?o.description.slice(0,30):"loading..."," "),t.xp6(2),t.hij(" ",o.description," ")}}function z(e,r){1&e&&(t.TgZ(0,"th",15),t._uU(1," Short Description "),t.qZA())}function G(e,r){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.TgZ(2,"div",22),t._uU(3),t.qZA()()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",null!=o.shortDescription?o.shortDescription.slice(0,20):"loading..."," "),t.xp6(2),t.hij(" ",o.shortDescription," ")}}function R(e,r){1&e&&(t.TgZ(0,"th",15),t._uU(1," Action "),t.qZA())}function X(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td",23)(1,"button",24),t.NdJ("click",function(){const m=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.deletePost(m.id))}),t.TgZ(2,"mat-icon",25),t._uU(3,"delete"),t.qZA()(),t.TgZ(4,"mat-dialog-actions")(5,"button",26),t.NdJ("click",function(){const m=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.openEditDialog(m.id))}),t.TgZ(6,"mat-icon",27),t._uU(7,"edit"),t.qZA()()()()}}function $(e,r){1&e&&t._UZ(0,"tr",28)}function F(e,r){1&e&&t._UZ(0,"tr",29)}let K=(()=>{class e{constructor(o,a,n){this.reqServ=o,this.dialog=a,this.dialogDetails=n,this.userData=JSON.parse(localStorage.getItem("userData")??"null").user,this.displayedColumns=["category","image","description","shortDescription","action"]}ngOnInit(){this.getPosts()}getPosts(){this.reqServ.getData(d.N.category.get).subscribe(o=>{this.dataCategory=o})}deletePost(o){confirm("delete this category ?")&&(this.reqServ.deleteData(d.N.category.get+"/"+o).subscribe(()=>{}),this.getPosts())}openEditDialog(o){let a=!0;this.dialog.open(D,{width:"520px"}),this.dialog.afterAllClosed.subscribe(()=>{a&&(this.getPosts(),a=!1)}),this.dialogDetails.idCatgory=o,this.dialogDetails.isCalledCategory="categoryEdit"}openAddDialog(){let o=!0;this.dialog.open(D,{width:"520px"}),this.dialog.afterAllClosed.subscribe(()=>{o&&(this.getPosts(),o=!1)}),this.dialogDetails.isCalledCategory="categoryAdd"}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(x.s),t.Y36(p.uw),t.Y36(Z.A))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-adm"]],standalone:!0,features:[t.jDz],decls:21,vars:3,consts:[[1,"parent-div"],["color","primary","mat-raised-button","",2,"align-self","flex-end","margin-bottom","10px",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["class","category-td","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-td","mat-cell","",4,"matCellDef"],["matColumnDef","description"],["class","td-table","mat-cell","",4,"matCellDef"],["matColumnDef","shortDescription"],["matColumnDef","action"],["class","td-table td-action","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"category-td"],["mat-cell","",1,"image-td"],["alt","img",3,"src","error"],["img",""],["mat-cell","",1,"td-table"],[1,"show-all-text"],[1,"show-all-text",2,"left","0","right","unset"],["mat-cell","",1,"td-table","td-action"],["mat-icon-button","",3,"click"],["color","warn"],["mat-icon-button","",1,"edit-button",3,"click"],["color","primary"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.openAddDialog()}),t._uU(2,"ADD"),t.qZA(),t.TgZ(3,"table",2),t.ynx(4,3),t.YNc(5,Y,2,0,"th",4)(6,S,2,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,j,2,0,"th",4)(9,B,3,1,"td",7),t.BQk(),t.ynx(10,8),t.YNc(11,H,2,0,"th",4)(12,L,4,2,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,z,2,0,"th",4)(15,G,4,2,"td",9),t.BQk(),t.ynx(16,11),t.YNc(17,R,2,0,"th",4)(18,X,8,0,"td",12),t.BQk(),t.YNc(19,$,1,0,"tr",13)(20,F,1,0,"tr",14),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("dataSource",n.dataCategory),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[g.ot,g.lW,g.RK,p.Is,p.H8,C.Ps,C.Hw,s.p0,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:[".parent-div[_ngcontent-%COMP%]{display:flex;flex-direction:column}table[_ngcontent-%COMP%]{background-color:#e5e5e5}th[_ngcontent-%COMP%]{color:#3a3a3a}td[_ngcontent-%COMP%]{color:#252525}mat-dialog-actions[_ngcontent-%COMP%]{display:inline-block;padding:1px}.show-all-text[_ngcontent-%COMP%]{display:none;background-color:#3f3f3f;position:absolute;bottom:-80px;right:-100px;overflow-y:scroll;height:100px;z-index:999;color:#f5f5f5;font-weight:700;padding:10px;border-radius:10px}.show-all-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.td-table[_ngcontent-%COMP%]{position:relative;overflow:unset}.td-table[_ngcontent-%COMP%]:hover > .show-all-text[_ngcontent-%COMP%]{display:block}.category-td[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.image-td[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;object-fit:cover;display:block;margin:10px 0}.edit-button[_ngcontent-%COMP%]:disabled{opacity:.5}"]})}return e})()}}]);